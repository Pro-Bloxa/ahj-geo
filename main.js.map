{"version":3,"file":"main.js","mappings":"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","sources":["webpack://ahj-testing/./src/js/verify-coords.js","webpack://ahj-testing/./src/js/Widget.js","webpack://ahj-testing/./src/js/app.js","webpack://ahj-testing/./src/index.js"],"sourcesContent":["export default function verifyCoords(coords) {\n  let data = coords;\n  const regularForCoords =\n    /^[-—–−-]?[0-9]{1,2}\\.[0-9]+, [-—–−-]?[0-9]{1,2}\\.[0-9]+/;\n\n  if (data.includes(\"[\") && data.includes(\"]\")) {\n    data = data.slice(data.indexOf(\"[\") + 1, data.indexOf(\"]\"));\n  }\n\n  if (data.includes(\" \")) {\n    if (regularForCoords.test(data)) {\n      return data;\n    }\n    return false;\n  }\n\n  const latitude = data.slice(0, data.indexOf(\",\"));\n  const longitude = data.slice(data.indexOf(\",\") + 1);\n  data = `${latitude}, ${longitude}`;\n\n  if (regularForCoords.test(data)) {\n    return data;\n  }\n  return false;\n}\n","import verifyCoords from \"./verify-coords\";\n\nexport default class Widget {\n  constructor() {\n    this.container = document.querySelector(\".widget-container\");\n    this.form = document.querySelector(\".form\");\n    this.addTicket = this.addTicket.bind(this);\n    this.elem = null;\n  }\n\n  createWidget() {\n    this.form.addEventListener(\"submit\", this.addTicket);\n  }\n\n  addTicket(event) {\n    event.preventDefault();\n    this.elem = document.createElement(\"span\");\n    this.elem.textContent = event.target.input.value;\n\n    this.getPosition();\n  }\n\n  getPosition() {\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(\n        (position) => {\n          const { latitude, longitude } = position.coords;\n          const activeLatitude = latitude;\n          const activeLongitude = longitude;\n          const data = `${activeLatitude}, ${activeLongitude}`;\n\n          this.showTicket(data);\n        },\n        (error) => {\n          this.showModal();\n          console.error(error);\n        }\n      );\n    }\n  }\n\n  resetInput() {\n    this.container.querySelector(\".form-input\").value = \"\";\n  }\n\n  showTicket(data) {\n    const list = document.querySelector(\".list\");\n    const ticket = document.createElement(\"div\");\n    ticket.classList.add(\"ticket\");\n    ticket.innerHTML = `\n    <div class=\"elem\"></div>\n     <div class=\"date\">${new Date().toLocaleString()}</div>\n     <div class=\"geo\">[${data}]</div>`;\n\n    list.insertAdjacentElement(\"afterbegin\", ticket);\n    this.container\n      .querySelector(\".elem\")\n      .insertAdjacentElement(\"afterbegin\", this.elem);\n    this.resetInput();\n  }\n\n  showModal() {\n    const modal = this.container.querySelector(\".modal\");\n    modal.classList.remove(\"hidden\");\n    this.container\n      .querySelector(\".modal-input\")\n      .addEventListener(\"input\", this.deleteError);\n\n    this.container\n      .querySelector(\".modal-form\")\n      .addEventListener(\"submit\", (event) => {\n        event.preventDefault();\n\n        const isValid = verifyCoords(event.target.modal.value);\n\n        if (isValid) {\n          this.hideModal();\n          this.showTicket(isValid);\n        } else {\n          alert(\"Координаты введены не верно\");\n        }\n      });\n\n    this.container\n      .querySelector(\".modal-form\")\n      .addEventListener(\"reset\", (event) => {\n        event.preventDefault();\n        this.hideModal();\n      });\n  }\n\n  hideModal() {\n    this.container.querySelector(\".modal\").classList.add(\"hidden\");\n    this.resetInput();\n  }\n}\n","import Widget from \"./Widget\";\n\nconst widget = new Widget();\nwidget.createWidget();\n","import \"./css/style.css\";\n\nimport \"./js/app\";\n"],"names":["verifyCoords","coords","data","regularForCoords","includes","slice","indexOf","test","latitude","longitude","Widget","constructor","container","document","querySelector","form","addTicket","bind","elem","createWidget","addEventListener","event","preventDefault","createElement","textContent","target","input","value","getPosition","navigator","geolocation","getCurrentPosition","position","activeLatitude","activeLongitude","showTicket","error","showModal","console","resetInput","list","ticket","classList","add","innerHTML","Date","toLocaleString","insertAdjacentElement","modal","remove","deleteError","isValid","hideModal","alert","widget"],"sourceRoot":""}